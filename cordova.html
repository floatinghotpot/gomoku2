<!DOCTYPE html>
<html>
<head>
<title>Gomoku Kingdom</title>
<meta charset='UTF-8'>
<meta http-equiv='Expires' CONTENT='0'>
<meta http-equiv='Cache-Control' CONTENT='no-cache'>
<meta http-equiv='Pragma' CONTENT='no-cache'>
<link rel='apple-touch-icon' href='gomoku/img/icon.png' />
<link rel='icon' type='image/png' href='gomoku/img/icon.png' />
<link href='gomoku/game.css' rel='stylesheet' type='text/css'>
<meta name='viewport'
	content='user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width' />
<script src='lib/jquery-1.9.js'></script>
<script src='lib/hotjs-mini.js'></script>
</head>
<body>
<div id='pagemain' class='page full' style='display:block;'></div>
<script type="text/javascript" src="cordova.js"></script>
<script>
window.plugins = window.plugins || {};

function initAdMob(){
    var am = window.plugins.AdMob;
    if(! am) return;
    
    var adIdiOS = 'a151e6d43c5a28f';
    var adIdAndroid = 'a151e6d65b12438';
    var adId = (navigator.userAgent.indexOf('Android') >=0) ? adIdAndroid : adIdiOS;
    am.createBannerView( 
    		{
	            'publisherId': adId,
	            'adSize': am.AD_SIZE.BANNER,
	            'bannerAtTop': false
            }, function() {
            	
            }, function(){
            	//alert( 'Error create Ad Banner' );
            });
}

function initPayPal() {
    var ppm = window.plugins.PayPalMPL;
    if(! ppm) return;
    
    ppm.construct( {
	      'appId': 'APP-80W284485P519543T',
	      'appEnv': ppm.PaymentEnv.ENV_SANDBOX,
	      }, function(){
	    	  ppm.prepare( ppm.PaymentType.GOODS, function(){}, function(){} );	      
	      }, function(){
	    	  alert( 'paypal init failed' );
	      });
}

function initInAppPurchase() {
	var iap = window.plugins.InAppPurchaseManager;
	if(! iap) return;
	
	iap.setup();
	iap.requestProductData(
		[
			 'com.rnjsoft.GomokuKingdom.pkg1',
			 'com.rnjsoft.GomokuKingdom.pkg2',
			 'com.rnjsoft.GomokuKingdom.pkg3'
		 ], function( data ) {
			var validProducts = data.validProducts;
			var invalidIds = data.invalidIds;
		}, function() {
		});
}

document.addEventListener('deviceready', function(){
	initAdMob();
	//initPayPalMPL();
	//initInAppPurchase();
	
	//alert( navigator.userAgent );
	resources.runAppFromJs('gomoku/game.js');
}, false);

</script>
</body>
</html>
